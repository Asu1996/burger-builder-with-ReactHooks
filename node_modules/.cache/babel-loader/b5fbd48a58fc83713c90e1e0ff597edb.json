{"ast":null,"code":"import _classCallCheck from\"/home/asutosh/Documents/myReact/burger-builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/asutosh/Documents/myReact/burger-builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/asutosh/Documents/myReact/burger-builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/asutosh/Documents/myReact/burger-builder/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Modal from'../components/UI/Modal/Modal';import Aux from'../hoc/Aux';var withErrorHandler=function withErrorHandler(WrappedContent,axios){var _temp;return _temp=/*#__PURE__*/function(_Component){_inherits(_temp,_Component);var _super=_createSuper(_temp);function _temp(){var _this;_classCallCheck(this,_temp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:null};_this.errorConfirmHandler=function(){_this.setState({error:null});};return _this;}_createClass(_temp,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.interceptors.request.use(function(req){_this2.setState({error:null});return req;});axios.interceptors.response.use(function(res){return res;},function(error){_this2.setState({error:error});});}},{key:\"componentWillMount\",value:function componentWillMount(){var _this3=this;this.reqInterceptor=axios.interceptors.request.use(function(req){_this3.setState({error:null});return req;});this.resInterceptor=axios.interceptors.response.use(function(res){return res;},function(error){_this3.setState({error:error});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){axios.interceptors.request.eject(this.reqInterceptor);axios.interceptors.response.eject(this.resInterceptor);}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Aux,null,/*#__PURE__*/React.createElement(Modal,{show:this.state.error,modalClosed:this.errorConfirmHandler},this.state.error?this.state.error.message:null),/*#__PURE__*/React.createElement(WrappedContent,this.props));}}]);return _temp;}(Component),_temp;};export default withErrorHandler;","map":{"version":3,"sources":["/home/asutosh/Documents/myReact/burger-builder/src/withErrorHandler/withErrorHandler.js"],"names":["React","Component","Modal","Aux","withErrorHandler","WrappedContent","axios","state","error","errorConfirmHandler","setState","interceptors","request","use","req","response","res","reqInterceptor","resInterceptor","eject","message","props"],"mappings":"ooBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CAEA,MAAOC,CAAAA,KAAP,KAAkB,8BAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,YAAhB,CAGA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,cAAD,CAAiBC,KAAjB,CAA2B,WAChD,mUAEIC,KAFJ,CAEY,CACJC,KAAK,CAAE,IADH,CAFZ,OAkCIC,mBAlCJ,CAkC0B,UAAM,CACxB,MAAKC,QAAL,CAAc,CAACF,KAAK,CAAC,IAAP,CAAd,EACH,CApCL,8FAMyB,iBAEjBF,KAAK,CAACK,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAAgC,SAAAC,GAAG,CAAG,CAClC,MAAI,CAACJ,QAAL,CAAc,CAACF,KAAK,CAAE,IAAR,CAAd,EACA,MAAOM,CAAAA,GAAP,CACH,CAHD,EAKAR,KAAK,CAACK,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,SAAAG,GAAG,QAAIA,CAAAA,GAAJ,EAAnC,CAA4C,SAAAR,KAAK,CAAI,CACjD,MAAI,CAACE,QAAL,CAAc,CAACF,KAAK,CAAEA,KAAR,CAAd,EACH,CAFD,EAGH,CAhBL,+DAkB0B,iBAClB,KAAKS,cAAL,CAAsBX,KAAK,CAACK,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAAgC,SAAAC,GAAG,CAAG,CACxD,MAAI,CAACJ,QAAL,CAAc,CAACF,KAAK,CAAE,IAAR,CAAd,EACA,MAAOM,CAAAA,GAAP,CACH,CAHqB,CAAtB,CAKA,KAAKI,cAAL,CAAsBZ,KAAK,CAACK,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,SAAAG,GAAG,QAAIA,CAAAA,GAAJ,EAAnC,CAA4C,SAAAR,KAAK,CAAI,CACvE,MAAI,CAACE,QAAL,CAAc,CAACF,KAAK,CAAEA,KAAR,CAAd,EACH,CAFqB,CAAtB,CAGH,CA3BL,mEA6B4B,CACpBF,KAAK,CAACK,YAAN,CAAmBC,OAAnB,CAA2BO,KAA3B,CAAiC,KAAKF,cAAtC,EACAX,KAAK,CAACK,YAAN,CAAmBI,QAAnB,CAA4BI,KAA5B,CAAkC,KAAKD,cAAvC,EACH,CAhCL,uCAsCa,CACL,mBACI,oBAAC,GAAD,mBACI,oBAAC,KAAD,EACI,IAAI,CAAE,KAAKX,KAAL,CAAWC,KADrB,CAEI,WAAW,CAAE,KAAKC,mBAFtB,EAGK,KAAKF,KAAL,CAAWC,KAAX,CAAmB,KAAKD,KAAL,CAAWC,KAAX,CAAiBY,OAApC,CAA8C,IAHnD,CADJ,cAMI,oBAAC,cAAD,CAAoB,KAAKC,KAAzB,CANJ,CADJ,CAUH,CAjDL,mBAAqBpB,SAArB,QAmDH,CApDD,CAsDA,cAAeG,CAAAA,gBAAf","sourcesContent":["import React, {Component} from 'react'\n\nimport Modal from '../components/UI/Modal/Modal'\nimport Aux from '../hoc/Aux'\n\n\nconst withErrorHandler = (WrappedContent, axios) => {\n    return class extends Component {\n\n        state = {\n            error: null\n        };\n\n        componentDidMount () {\n\n            axios.interceptors.request.use( req=> {\n                this.setState({error: null});\n                return req;\n            })\n\n            axios.interceptors.response.use(res => res, error => {\n                this.setState({error: error});\n            });\n        }\n\n        componentWillMount () {\n            this.reqInterceptor = axios.interceptors.request.use( req=> {\n                this.setState({error: null});\n                return req;\n            })\n\n            this.resInterceptor = axios.interceptors.response.use(res => res, error => {\n                this.setState({error: error});\n            });\n        }\n\n        componentWillUnmount () {\n            axios.interceptors.request.eject(this.reqInterceptor);\n            axios.interceptors.response.eject(this.resInterceptor);\n        }\n\n        errorConfirmHandler = () => {\n            this.setState({error:null});\n        }\n\n        render() {\n            return (\n                <Aux>\n                    <Modal \n                        show={this.state.error}\n                        modalClosed={this.errorConfirmHandler}>\n                        {this.state.error ? this.state.error.message : null}\n                    </Modal>\n                    <WrappedContent {...this.props} />\n                </Aux>\n            );\n        }\n    }\n};\n\nexport default withErrorHandler;"]},"metadata":{},"sourceType":"module"}